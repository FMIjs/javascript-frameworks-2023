{"ast":null,"code":"import { NgForm } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../shared/contains.directive\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"form\"];\nfunction NewComponent_div_7_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"This field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NewComponent_div_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const minlength_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"Min length is \", minlength_r6.requiredLength, \" and the current length is \", minlength_r6.actualLength, \"\");\n  }\n}\nfunction NewComponent_div_7_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const mustContainError_r7 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Field must contain \", mustContainError_r7, \" \");\n  }\n}\nfunction NewComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, NewComponent_div_7_div_1_Template, 2, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, NewComponent_div_7_div_2_Template, 2, 2, \"div\", 6);\n    i0.ɵɵtemplate(3, NewComponent_div_7_div_3_Template, 2, 1, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.getError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.getError(\"minlength\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.getError(\"mustContain\"));\n  }\n}\nexport class NewComponent {\n  constructor() {\n    this.age = '2000';\n  }\n  onFormSubmit(fromValue) {\n    console.log(fromValue);\n    // const value = $event.value as INewUserForm;\n    // console.log($event, value);\n  }\n\n  ngOnInit() {}\n  ngAfterViewInit() {}\n}\nNewComponent.ɵfac = function NewComponent_Factory(t) {\n  return new (t || NewComponent)();\n};\nNewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NewComponent,\n  selectors: [[\"app-new\"]],\n  viewQuery: function NewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7, NgForm);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n    }\n  },\n  decls: 14,\n  vars: 3,\n  consts: [[3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"input-group\"], [\"for\", \"name\"], [\"id\", \"name\", \"type\", \"text\", \"name\", \"name\", \"ngModel\", \"\", \"required\", \"\", \"minlength\", \"4\", \"appContains\", \"!!!\"], [\"nameModel\", \"ngModel\"], [4, \"ngIf\"], [\"for\", \"age\"], [\"id\", \"age\", \"type\", \"text\", \"name\", \"age\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [3, \"disabled\"]],\n  template: function NewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r8 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"form\", 0, 1);\n      i0.ɵɵlistener(\"ngSubmit\", function NewComponent_Template_form_ngSubmit_0_listener() {\n        i0.ɵɵrestoreView(_r8);\n        const _r0 = i0.ɵɵreference(1);\n        return i0.ɵɵresetView(ctx.onFormSubmit(_r0.value));\n      });\n      i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n      i0.ɵɵtext(4, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"input\", 4, 5);\n      i0.ɵɵtemplate(7, NewComponent_div_7_Template, 4, 3, \"div\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\", 7);\n      i0.ɵɵtext(10, \"Age\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function NewComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.age = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"button\", 9);\n      i0.ɵɵtext(13, \"Save\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(1);\n      const _r1 = i0.ɵɵreference(6);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", _r1.touched && _r1.invalid);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.age);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid);\n    }\n  },\n  dependencies: [i1.NgIf, i2.ContainsDirective, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinLengthValidator, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJuZXcuY29tcG9uZW50LnNjc3MifQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9uZXcvbmV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxnS0FBZ0siLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["NgForm","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","minlength_r6","requiredLength","actualLength","ɵɵtextInterpolate1","mustContainError_r7","ɵɵtemplate","NewComponent_div_7_div_1_Template","NewComponent_div_7_div_2_Template","NewComponent_div_7_div_3_Template","ɵɵproperty","_r1","getError","NewComponent","constructor","age","onFormSubmit","fromValue","console","log","ngOnInit","ngAfterViewInit","selectors","viewQuery","NewComponent_Query","rf","ctx","ɵɵlistener","NewComponent_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r8","_r0","ɵɵreference","ɵɵresetView","value","ɵɵelement","NewComponent_div_7_Template","NewComponent_Template_input_ngModelChange_11_listener","$event","touched","invalid"],"sourceRoot":"","sources":["/Users/alexkostov/dev/fmiJS/javascript-frameworks-2023/week14/lecture/src/app/user/new/new.component.ts","/Users/alexkostov/dev/fmiJS/javascript-frameworks-2023/week14/lecture/src/app/user/new/new.component.html"],"sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\n\ninterface INewUserForm {\n  name: string;\n  age: string;\n}\n\n@Component({\n  selector: 'app-new',\n  templateUrl: './new.component.html',\n  styleUrls: ['./new.component.scss']\n})\nexport class NewComponent {\n\n  age = '2000';\n\n  @ViewChild('form', { read: NgForm, static: true }) form!: NgForm;\n\n  onFormSubmit(fromValue: INewUserForm): void {\n    console.log(fromValue);\n    // const value = $event.value as INewUserForm;\n    // console.log($event, value);\n  }\n\n  ngOnInit(): void {\n\n  }\n\n  ngAfterViewInit(): void {\n\n  }\n\n}\n","<form #form=\"ngForm\" (ngSubmit)=\"onFormSubmit(form.value)\">\n  <div class=\"input-group\">\n    <label for=\"name\">Name</label>\n    <input id=\"name\" type=\"text\" name=\"name\" #nameModel=\"ngModel\" ngModel required minlength=\"4\" appContains=\"!!!\">\n    <div *ngIf=\"nameModel.touched && nameModel.invalid\">\n      <div *ngIf=\"nameModel.getError('required')\">This field is required</div>\n      <div *ngIf=\"nameModel.getError('minlength'); let minlength\">Min length is {{minlength.requiredLength}} and the\n        current length is {{minlength.actualLength}}</div>\n      <div *ngIf=\"nameModel.getError('mustContain'); let mustContainError;\">Field must contain {{mustContainError}}\n      </div>\n    </div>\n  </div>\n  <div class=\"input-group\">\n    <label for=\"age\">Age</label>\n    <!-- two way data binding can be skipped in general -->\n    <input id=\"age\" type=\"text\" name=\"age\" [(ngModel)]=\"age\" required>\n  </div>\n  <button [disabled]=\"form.invalid\">Save</button>\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}