{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/underline.directive\";\nfunction ListComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 1);\n    i0.ɵɵlistener(\"click\", function ListComponent_li_1_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectUserHandler(user_r1));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"appUnderline\", user_r1.id === (ctx_r0.selectedUser == null ? null : ctx_r0.selectedUser.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r1.name, \" \");\n  }\n}\nexport class ListComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.selectedUser = null;\n    this.users = [];\n    this.userService.loadUsers().subscribe(users => {\n      this.users = users;\n    });\n  }\n  newUserHandler(name) {\n    this.users.push({\n      name\n    });\n  }\n  selectUserHandler(user) {\n    if (this.selectedUser?.id === user?.id) {\n      return void (this.selectedUser = null);\n    }\n    this.selectedUser = user;\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  features: [i0.ɵɵProvidersFeature([\n    // {\n    //   provide: UserService,\n    //   useValue: {\n    //     loadUsers: () => {\n    //       return of(['HELLO!']);\n    //     }\n    //   }\n    // }\n  ])],\n  decls: 2,\n  vars: 1,\n  consts: [[3, \"appUnderline\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"appUnderline\", \"click\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ul\");\n      i0.ɵɵtemplate(1, ListComponent_li_1_Template, 2, 2, \"li\", 0);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.UnderlineDirective],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0LmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9saXN0L2xpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGdLQUFnSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IACEA,EAAA,CAAAC,cAAA,YAA+G;IAAhFD,EAAA,CAAAE,UAAA,mBAAAC,gDAAA;MAAA,MAAAC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,OAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,iBAAA,CAAAL,OAAA,CAAuB;IAAA,EAAC;IAC9DP,EAAA,CAAAa,MAAA,GACF;IAAAb,EAAA,CAAAc,YAAA,EAAK;;;;;IAF4Dd,EAAA,CAAAe,UAAA,iBAAAR,OAAA,CAAAS,EAAA,MAAAC,MAAA,CAAAC,YAAA,kBAAAD,MAAA,CAAAC,YAAA,CAAAF,EAAA,EAA6C;IAC5GhB,EAAA,CAAAmB,SAAA,GACF;IADEnB,EAAA,CAAAoB,kBAAA,MAAAb,OAAA,CAAAc,IAAA,MACF;;;ACeF,OAAM,MAAOC,aAAa;EAIxBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAH/B,KAAAN,YAAY,GAAe,IAAI;IAC/B,KAAAO,KAAK,GAAU,EAAE;IAGf,IAAI,CAACD,WAAW,CAACE,SAAS,EAAE,CAACC,SAAS,CAACF,KAAK,IAAG;MAC7C,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAG,cAAcA,CAACP,IAAY;IACzB,IAAI,CAACI,KAAK,CAACI,IAAI,CAAC;MAAER;IAAI,CAAE,CAAC;EAC3B;EAEAT,iBAAiBA,CAACkB,IAAS;IACzB,IAAI,IAAI,CAACZ,YAAY,EAAEF,EAAE,KAAKc,IAAI,EAAEd,EAAE,EAAE;MACtC,OAAO,MAAM,IAAI,CAACE,YAAY,GAAG,IAAI,CAAC;;IAExC,IAAI,CAACA,YAAY,GAAGY,IAAI;EAC1B;;AAnBWR,aAAa;mBAAbA,aAAa,EAAAtB,EAAA,CAAA+B,iBAAA,CAAAC,EAAA,CAAAC,WAAA;AAAA;AAAbX,aAAa;QAAbA,aAAa;EAAAY,SAAA;EAAAC,QAAA,GAAAnC,EAAA,CAAAoC,kBAAA,CAXb;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACD;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MDhBH1C,EAAA,CAAAC,cAAA,SAAI;MACFD,EAAA,CAAA4C,UAAA,IAAAC,2BAAA,gBAEK;MACP7C,EAAA,CAAAc,YAAA,EAAK;;;MAHkBd,EAAA,CAAAmB,SAAA,GAAQ;MAARnB,EAAA,CAAAe,UAAA,YAAA4B,GAAA,CAAAlB,KAAA,CAAQ","names":["i0","ɵɵelementStart","ɵɵlistener","ListComponent_li_1_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r3","user_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectUserHandler","ɵɵtext","ɵɵelementEnd","ɵɵproperty","id","ctx_r0","selectedUser","ɵɵadvance","ɵɵtextInterpolate1","name","ListComponent","constructor","userService","users","loadUsers","subscribe","newUserHandler","push","user","ɵɵdirectiveInject","i1","UserService","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ListComponent_Template","rf","ctx","ɵɵtemplate","ListComponent_li_1_Template"],"sourceRoot":"","sources":["/Users/alexkostov/dev/fmiJS/javascript-frameworks-2023/week14/lecture/src/app/user/list/list.component.html","/Users/alexkostov/dev/fmiJS/javascript-frameworks-2023/week14/lecture/src/app/user/list/list.component.ts"],"sourcesContent":["<ul>\n  <li *ngFor=\"let user of users\" (click)=\"selectUserHandler(user)\" [appUnderline]=\"user.id === selectedUser?.id\">\n    {{user.name}}\n  </li>\n</ul>","import { Component } from '@angular/core';\nimport { UserService } from '../user.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss'],\n  providers: [\n    // {\n    //   provide: UserService,\n    //   useValue: {\n    //     loadUsers: () => {\n    //       return of(['HELLO!']);\n    //     }\n    //   }\n    // }\n  ]\n})\nexport class ListComponent {\n  selectedUser: any | null = null;\n  users: any[] = [];\n\n  constructor(private userService: UserService) {\n    this.userService.loadUsers().subscribe(users => {\n      this.users = users;\n    });\n  }\n\n  newUserHandler(name: string) {\n    this.users.push({ name });\n  }\n\n  selectUserHandler(user: any): void {\n    if (this.selectedUser?.id === user?.id) {\n      return void (this.selectedUser = null);\n    }\n    this.selectedUser = user;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}