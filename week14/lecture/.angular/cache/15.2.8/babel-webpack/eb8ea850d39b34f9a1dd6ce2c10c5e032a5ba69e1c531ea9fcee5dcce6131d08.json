{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/underline.directive\";\nimport * as i4 from \"../detail/detail.component\";\nfunction ListComponent_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 2);\n    i0.ɵɵlistener(\"click\", function ListComponent_li_1_Template_li_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const user_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.selectUserHandler(user_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"appUnderline\", user_r2.id === (ctx_r0.selectedUser == null ? null : ctx_r0.selectedUser.id));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", user_r2.name, \" \");\n  }\n}\nfunction ListComponent_app_detail_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-detail\", 3);\n    i0.ɵɵlistener(\"newUser\", function ListComponent_app_detail_2_Template_app_detail_newUser_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.newUserHandler($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"user\", ctx_r1.selectedUser);\n  }\n}\nexport class ListComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.selectedUser = null;\n    this.users = [];\n    this.userService.loadUsers().subscribe(users => {\n      this.users = users;\n    });\n  }\n  newUserHandler(name) {\n    this.users.push({\n      name\n    });\n  }\n  selectUserHandler(user) {\n    if (this.selectedUser?.id === user?.id) {\n      return void (this.selectedUser = null);\n    }\n    this.selectedUser = user;\n  }\n}\nListComponent.ɵfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\nListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  features: [i0.ɵɵProvidersFeature([\n    // {\n    //   provide: UserService,\n    //   useValue: {\n    //     loadUsers: () => {\n    //       return of(['HELLO!']);\n    //     }\n    //   }\n    // }\n  ])],\n  decls: 3,\n  vars: 2,\n  consts: [[3, \"appUnderline\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"user\", \"newUser\", 4, \"ngIf\"], [3, \"appUnderline\", \"click\"], [3, \"user\", \"newUser\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ul\");\n      i0.ɵɵtemplate(1, ListComponent_li_1_Template, 2, 2, \"li\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, ListComponent_app_detail_2_Template, 1, 1, \"app-detail\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.selectedUser);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.UnderlineDirective, i4.DetailComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsaXN0LmNvbXBvbmVudC5zY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci9saXN0L2xpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLGdLQUFnSyIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IACEA,EAAA,CAAAC,cAAA,YAA+G;IAAhFD,EAAA,CAAAE,UAAA,mBAAAC,gDAAA;MAAA,MAAAC,WAAA,GAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,OAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAT,EAAA,CAAAU,aAAA;MAAA,OAASV,EAAA,CAAAW,WAAA,CAAAF,MAAA,CAAAG,iBAAA,CAAAL,OAAA,CAAuB;IAAA,EAAC;IAC9DP,EAAA,CAAAa,MAAA,GACF;IAAAb,EAAA,CAAAc,YAAA,EAAK;;;;;IAF4Dd,EAAA,CAAAe,UAAA,iBAAAR,OAAA,CAAAS,EAAA,MAAAC,MAAA,CAAAC,YAAA,kBAAAD,MAAA,CAAAC,YAAA,CAAAF,EAAA,EAA6C;IAC5GhB,EAAA,CAAAmB,SAAA,GACF;IADEnB,EAAA,CAAAoB,kBAAA,MAAAb,OAAA,CAAAc,IAAA,MACF;;;;;;IAYFrB,EAAA,CAAAC,cAAA,oBAA0F;IAAnCD,EAAA,CAAAE,UAAA,qBAAAoB,kEAAAC,MAAA;MAAAvB,EAAA,CAAAK,aAAA,CAAAmB,GAAA;MAAA,MAAAC,MAAA,GAAAzB,EAAA,CAAAU,aAAA;MAAA,OAAWV,EAAA,CAAAW,WAAA,CAAAc,MAAA,CAAAC,cAAA,CAAAH,MAAA,CAAsB;IAAA,EAAC;IAACvB,EAAA,CAAAc,YAAA,EAAa;;;;IAAtEd,EAAA,CAAAe,UAAA,SAAAY,MAAA,CAAAT,YAAA,CAAqB;;;ACGtD,OAAM,MAAOU,aAAa;EAIxBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAH/B,KAAAZ,YAAY,GAAe,IAAI;IAC/B,KAAAa,KAAK,GAAU,EAAE;IAGf,IAAI,CAACD,WAAW,CAACE,SAAS,EAAE,CAACC,SAAS,CAACF,KAAK,IAAG;MAC7C,IAAI,CAACA,KAAK,GAAGA,KAAK;IACpB,CAAC,CAAC;EACJ;EAEAL,cAAcA,CAACL,IAAY;IACzB,IAAI,CAACU,KAAK,CAACG,IAAI,CAAC;MAAEb;IAAI,CAAE,CAAC;EAC3B;EAEAT,iBAAiBA,CAACuB,IAAS;IACzB,IAAI,IAAI,CAACjB,YAAY,EAAEF,EAAE,KAAKmB,IAAI,EAAEnB,EAAE,EAAE;MACtC,OAAO,MAAM,IAAI,CAACE,YAAY,GAAG,IAAI,CAAC;;IAExC,IAAI,CAACA,YAAY,GAAGiB,IAAI;EAC1B;;AAnBWP,aAAa;mBAAbA,aAAa,EAAA5B,EAAA,CAAAoC,iBAAA,CAAAC,EAAA,CAAAC,WAAA;AAAA;AAAbV,aAAa;QAAbA,aAAa;EAAAW,SAAA;EAAAC,QAAA,GAAAxC,EAAA,CAAAyC,kBAAA,CAXb;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAAA,CACD;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MDhBH/C,EAAA,CAAAC,cAAA,SAAI;MACFD,EAAA,CAAAiD,UAAA,IAAAC,2BAAA,gBAEK;MACPlD,EAAA,CAAAc,YAAA,EAAK;MAWLd,EAAA,CAAAiD,UAAA,IAAAE,mCAAA,wBAAuG;;;MAdhFnD,EAAA,CAAAmB,SAAA,GAAQ;MAARnB,EAAA,CAAAe,UAAA,YAAAiC,GAAA,CAAAjB,KAAA,CAAQ;MAclB/B,EAAA,CAAAmB,SAAA,GAAkB;MAAlBnB,EAAA,CAAAe,UAAA,SAAAiC,GAAA,CAAA9B,YAAA,CAAkB","names":["i0","ɵɵelementStart","ɵɵlistener","ListComponent_li_1_Template_li_click_0_listener","restoredCtx","ɵɵrestoreView","_r4","user_r2","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","selectUserHandler","ɵɵtext","ɵɵelementEnd","ɵɵproperty","id","ctx_r0","selectedUser","ɵɵadvance","ɵɵtextInterpolate1","name","ListComponent_app_detail_2_Template_app_detail_newUser_0_listener","$event","_r6","ctx_r5","newUserHandler","ctx_r1","ListComponent","constructor","userService","users","loadUsers","subscribe","push","user","ɵɵdirectiveInject","i1","UserService","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ListComponent_Template","rf","ctx","ɵɵtemplate","ListComponent_li_1_Template","ListComponent_app_detail_2_Template"],"sourceRoot":"","sources":["/Users/alexkostov/dev/fmiJS/javascript-frameworks-2023/week14/lecture/src/app/user/list/list.component.html","/Users/alexkostov/dev/fmiJS/javascript-frameworks-2023/week14/lecture/src/app/user/list/list.component.ts"],"sourcesContent":["<ul>\n  <li *ngFor=\"let user of users\" (click)=\"selectUserHandler(user)\" [appUnderline]=\"user.id === selectedUser?.id\">\n    {{user.name}}\n  </li>\n</ul>\n<!-- <app-detail *ngIf=\"selectedUser\" [user]=\"selectedUser\">\n  <div #myDiv>\n    <div>HELLO!</div>\n  </div>\n</app-detail> -->\n\n<!-- <ng-template [appMyIf]=\"selectedUser\">\n  <app-detail [user]=\"selectedUser\"></app-detail>\n</ng-template> -->\n\n<app-detail *ngIf=\"selectedUser\" [user]=\"selectedUser\" (newUser)=\"newUserHandler($event)\"></app-detail>\n\n<!-- \n  const appDetail document.createElement('app-detail');\n  appDetail.user = { id: 1, name: 'ivan' };\n  ...\n  appDetail.ngOnInit();\n-->","import { Component } from '@angular/core';\nimport { UserService } from '../user.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.scss'],\n  providers: [\n    // {\n    //   provide: UserService,\n    //   useValue: {\n    //     loadUsers: () => {\n    //       return of(['HELLO!']);\n    //     }\n    //   }\n    // }\n  ]\n})\nexport class ListComponent {\n  selectedUser: any | null = null;\n  users: any[] = [];\n\n  constructor(private userService: UserService) {\n    this.userService.loadUsers().subscribe(users => {\n      this.users = users;\n    });\n  }\n\n  newUserHandler(name: string) {\n    this.users.push({ name });\n  }\n\n  selectUserHandler(user: any): void {\n    if (this.selectedUser?.id === user?.id) {\n      return void (this.selectedUser = null);\n    }\n    this.selectedUser = user;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}